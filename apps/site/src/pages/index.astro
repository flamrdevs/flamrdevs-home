---
import { GithubIcon, MoonIcon, SunIcon } from "lucide-solid";

import { LINK } from "@flamrdevs/const/exports";

import { Center, Container, HTMLX, IconButton, Separator, Text } from "~/components/core";
import { AnimatedSVGLogo } from "~/components/flamrdevs";

import { flamrdevssvg, separatorvertical } from "~/styles/pages/index.css";
---

<HTMLX>
	<Center>
		<AnimatedSVGLogo class={flamrdevssvg} />
	</Center>

	<Container max="sm">
		<Separator orientation="horizontal" />
		<Center gap="2" p="2">
			<Text family="mono">flamrdevs</Text>

			<div style="flex-grow: 1;"></div>

			<IconButton id="light-theme-icon-button">
				<SunIcon />
			</IconButton>

			<IconButton id="dark-theme-icon-button">
				<MoonIcon />
			</IconButton>

			<Separator orientation="vertical" class={separatorvertical} />

			<IconButton as="a" id="github-icon-button" href={LINK.GITHUB} target="_blank">
				<GithubIcon />
			</IconButton>
		</Center>
		<Separator orientation="horizontal" />
	</Container>
</HTMLX>

<script>
	import { trackEvent } from "~/libs/aptabase";
	import { changeTheme } from "~/stores/theme";

	document.getElementById("light-theme-icon-button")!.addEventListener("click", () => {
		changeTheme("light");
		trackEvent("light-theme-click");
	});
	document.getElementById("dark-theme-icon-button")!.addEventListener("click", () => {
		changeTheme("dark");
		trackEvent("dark-theme-click");
	});
	document.getElementById("github-icon-button")!.addEventListener("click", () => {
		trackEvent("github-link-click");
	});
</script>
