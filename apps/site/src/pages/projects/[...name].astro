---
import type { GetStaticPaths } from "astro";
import { getCollection } from "astro:content";
import type { CollectionEntry } from "astro:content";

import { HTMLX, Text } from "~/components/core";

export const getStaticPaths: GetStaticPaths = async () => {
  const collection = await getCollection("projects");

  return collection.map((item) => ({
    params: { name: item.data.name },
    props: { entry: item },
  }));
};

type Props = {
  entry: CollectionEntry<"projects">;
};

const { data } = Astro.props.entry;
---

<HTMLX title={data.name} description={data.description}>
  <Text>{data.name}</Text>
</HTMLX>
