---
import type { GetStaticPaths } from "astro";

import { HTMLX, Box, Container, Text } from "~/components/core";

import * as api from "~/libs/api";

export const getStaticPaths: GetStaticPaths = async () => {
  const projects = await api.projects.find();

  return projects.map((project) => ({
    params: { slug: project.slug },
    props: { project },
  }));
};

type Props = {
  project: api.IProject;
};

const { name, description } = Astro.props.project;
---

<HTMLX title={name} description={description}>
  <Container max="lg" p="4">
    <Box p="1">
      <Text>{name}</Text>
      <Text>{description}</Text>
    </Box>
  </Container>
</HTMLX>
