---
import type { HTMLAttributes } from "astro/types";

import * as IconButtonCSS from "@flamrdevs/ui/core/IconButton.recipe.css";

import clsx from "@flamrdevs/x/modules/clsx";

type Props = HTMLAttributes<"button"> & IconButtonCSS.Variants & IconButtonCSS.InnerVariants & IconButtonCSS.ChildVariants;

const { color, size, class: _class, "class:list": classList, ...attrs } = Astro.props;

const className = clsx(IconButtonCSS.Root({ color, size }), _class, classList);
const innerClassName = IconButtonCSS.Inner({ color });
const childClassName = IconButtonCSS.Child({ size });
---

<button {...attrs} class={className}>
  <div class={innerClassName}>
    <div class={childClassName}>
      <slot />
    </div>
  </div>
</button>
