---
import type { HTMLAttributes } from "astro/types";

import * as SeparatorCSS from "@flamrdevs/ui/core/Separator.recipe.css";
import propsplit from "@flamrdevs/x/modules/propsplit";

import { getSeparatorAttrs } from "./attributes/separator";
import type { SeparatorOptions } from "./attributes/separator";

import { getRootClassesx } from "./../classes";

type Props = Omit<HTMLAttributes<"hr">, "orientation"> & SeparatorOptions & SeparatorCSS.Variants;

const [classes, props] = getRootClassesx(Astro.props);

const [options, recipe, attrs] = propsplit(props, ["orientation"], SeparatorCSS.RootKeys);

const className = classes(SeparatorCSS.Root(recipe));
---

<hr {...attrs} class={className} {...getSeparatorAttrs(options)} />
