---
import type { HTMLAttributes } from "astro/types";

import * as Recipes from "@flamrdevs/ui/core/.recipes.css";
import * as Sprinkles from "@flamrdevs/ui/core/.sprinkles.css";
import propsplit from "@flamrdevs/x/modules/propsplit";

import { ClassesKeys, classex } from "./../classes";

type Props = HTMLAttributes<"div"> &
	Recipes.TypographyVariants &
	Sprinkles.LayoutShorthandsVariants &
	Sprinkles.PositionShorthandsVariants &
	Sprinkles.MarginShorthandsVariants &
	Sprinkles.PaddingShorthandsVariants;

const [classes, typography, layout, position, margin, padding, attrs] = propsplit(
	Astro.props,
	ClassesKeys,
	Recipes.TypographyKeys,
	Sprinkles.LayoutKeys,
	Sprinkles.PositionKeys,
	Sprinkles.MarginKeys,
	Sprinkles.PaddingKeys
);

const className = classex(
	[Recipes.Typography(typography), Sprinkles.Layout(layout), Sprinkles.Position(position), Sprinkles.Margin(margin), Sprinkles.Padding(padding)],
	classes
);
---

<div {...attrs} class={className}>
	<slot />
</div>
